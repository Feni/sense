<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <header>
        <h1 class="Logo">Sense</h1>
    </header>
    <div id="app">
        <!--
    <span class="Sidebar">
        <ul>
            <li v-for="fDef in functionDefinitions">{{ fDef.name }}</li>
        </ul>
    </span>
    -->
            
    <div class="MainContents">
        <table>
            <caption>Description of the table</caption>
            <thead>
                <tr>
                    <th class="transparent"></th>
                    <th>Date</th>
                    <th>Source</th>
                    <th>New Customer?</th>
                    <th>Customer</th>
                    <th>Item</th>
                    <th>Quantity</th>
                    <th class="action">+</th>
                </tr>
                <tr>
                    <th class="transparent"></th>
                    <th>date</th>
                    <th>text</th>
                    <th>boolean</th>
                    <th>relation</th>
                    <th>relation</th>
                    <th>number</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th rowspan="2">1</th>
                    <td rowspan="2">2016/05/10</td>
                    <td rowspan="2">Internet</td>
                    <td rowspan="2">Yes</td>
                    <td rowspan="2">John</td>
                    <!-- Should be able to collapse and expand this -->
                    <td>Item 1</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>Item 2</td>
                    <td>5</td>
                </tr>
                
                <tr>
                    <th>2</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                
                <tr>
                    <th>3</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                
                
            </tbody>
            <tfoot>
                <tr>
                    <th>Total</th>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        
        <h2>Dynamic table</h2>
        
        <dynamic-table></dynamic-table>
        
    </div>
    </div>
     
    <script type="text/x-template" id="tmpl-function-instance">
        <div class='FuncInstance'>
            <div class="FuncInstance-wrapper">
            <div v-if="isEdit">
                <span class="FInstanceName-type">{{ fDef.name }}</span>
                <input class="FInstanceName-input" v-model='name'></input>
                <div v-for='param in fDef.parameters'>
                    <label class="FIParameter-label">{{ param.name }}</label><br>
                    <span v-if="param.type == 'number'">
                    <input type='number' v-model='args[param.name]'></input>
                    </span>
                    <span v-else>Unknown input type</span>
                </div>
                <div class="Button Button-save margin-top" v-on:click="saveEdit">
                    Save
                </div>
            </div>
            <div v-else v-on:click="toggleEdit">
                <span class="FInstanceName">
                    <span class="FInstanceName-label">{{ name }}</span>
                    <span class="FInstanceName-type">{{ fDef.name }}</span>
                </span>
                <span class="FInstanceOutput">
                    {{ output() }}
                </span>
            </div>
            </div>
        </div>
    </script>
    
    
    <script type="text/x-template" id="tmpl-dynamic-table">
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th v-for="col in columns">{{ col }}</th>
                </tr>
            </thead>
            
            <tbody>
                <template v-for="(row, rowindex) in renderedTable">
                    <tr>
                        <template v-for="(col, colindex) in row">
                            <template v-if="col.header">
                                <th v-bind:rowspan="col.rowspan">{{col.value}}</th>
                            </template>
                            <template v-else>
                                <td v-bind:rowspan="col.rowspan">{{col.value}}</td>
                            </template>
                        </template>
                    </tr>
                </template>
            </tbody>
        </table>
    </script>
    
    
    <script type="text/x-template" id="tmpl-key-val">
        <ul>
            <li v-for="item in items">
                <input class="inKey" v-model="item.key" autofocus></input>
                <input class="inVal" v-model="item.value" autofocus></input>
            </li>
            
            <input v-on:input="addNewKey" v-model="newkey"></input>
            <input v-on:input="addNewValue" v-model="newvalue"></input>
        </ul>
    </script>

    
    <script src="node_modules/vue/dist/vue.js"></script>
    <script src="js/app.js"></script>

</body>
</html>